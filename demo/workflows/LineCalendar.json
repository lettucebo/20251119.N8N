{
  "name": "LineCalendar",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "db2d962b-3f35-4278-be83-02f3e5c21588",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -432,
        304
      ],
      "id": "e51ffb2d-65be-4c18-a092-4cef126deb09",
      "name": "Webhook",
      "webhookId": "db2d962b-3f35-4278-be83-02f3e5c21588"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.line.me/v2/bot/message/push",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n    \"to\": \"U81025e615f2b5734e31d2715303acb5a\",\n    \"messages\":[\n        { \n            \"type\":\"text\",  \n            \"text\":\"è¡Œäº‹æ›†å»ºç«‹æˆåŠŸ\" \n        }\n    ]\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        1040,
        208
      ],
      "id": "6308608d-406d-4089-83b0-271d9b864e02",
      "name": "HTTP Request: Send Line Msg",
      "credentials": {
        "httpHeaderAuth": {
          "id": "Q9Kr3IDsWDjxH8dp",
          "name": "Line Header Auth account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.body.events[0].message.text }}",
        "hasOutputParser": true,
        "messages": {
          "messageValues": [
            {
              "message": "=ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„æ—¥ç¨‹ç®¡ç†åŠ©æ‰‹ã€‚è«‹åˆ†æç”¨æˆ¶çš„è¨Šæ¯ï¼Œæå–å¯èƒ½çš„æ—¥ç¨‹ä¿¡æ¯ã€‚\n\nğŸ¯ **é‡è¦åŸå‰‡ï¼šæ¯å€‹åˆ†æçµæœåªç”¢ç”Ÿä¸€å€‹ä¸»è¦äº‹ä»¶ï¼Œå°‡æ‰€æœ‰ç›¸é—œæ´»å‹•æ•´åˆç‚ºå®Œæ•´çš„æ´»å‹•æè¿°**\n\nğŸ” **åœ°é»åµæ¸¬è¦å‰‡**ï¼š\n1. ç§»å‹•å‹•è©å¾Œçš„åœ°é»ï¼šã€Œå»XXã€ã€ã€Œåˆ°XXã€ã€ã€Œå¾€XXã€ã€ã€Œèµ´XXã€ã€ã€Œå‰å¾€XXã€ã€ã€Œå‡ºç™¼åˆ°XXã€ã€ã€Œé£›å¾€XXã€\n2. ä½ç½®ä»‹è©å¾Œçš„åœ°é»ï¼šã€Œåœ¨XXã€ã€ã€Œæ–¼XXã€ã€ã€Œä½æ–¼XXã€ã€ã€ŒXXèˆ‰è¡Œã€ã€ã€ŒXXé€²è¡Œã€ã€ã€ŒXXå¬é–‹ã€\n3. å¸¸è¦‹åœ°é»é¡å‹ï¼šåŸå¸‚/åœ‹å®¶ã€åœ°æ¨™/æ™¯é»ã€å ´æ‰€ã€ç·šä¸Šå ´æ‰€ã€å»ºç¯‰ç‰©\n4. åœ°é»æå–å„ªå…ˆé †åºï¼šå…·é«”åœ°å€ > å»ºç¯‰åç¨± > åŸå¸‚åç¨± > å€åŸŸåç¨±\n5. å¤šåœ°é»æ´»å‹•ï¼šé¸æ“‡ä¸»è¦é›†åˆåœ°é»æˆ–æœ€é‡è¦çš„åœ°é»ä½œç‚ºä¸»è¦ location\n\nğŸ“… **æ´»å‹•é¡å‹è­˜åˆ¥ï¼ˆé‡è¦ï¼‰**ï¼š\n- **å…¨å¤©æ´»å‹•**ï¼š\n  - æ—…éŠã€ä¸€æ—¥éŠã€å‡ºå·®ã€ä¼‘å‡ã€ç¯€æ—¥æ…¶å…¸\n  - ç ”ç¿’ç‡Ÿã€å·¥ä½œåŠã€è¨“ç·´ç‡Ÿ\n  - å¤šåœ°é»è¡Œç¨‹æ´»å‹•ï¼ˆå³ä½¿æœ‰é›†åˆæ™‚é–“ä¹Ÿç®—å…¨å¤©æ´»å‹•ï¼‰\n  - åªæåˆ°æ—¥æœŸæ²’æœ‰å…·é«”æ™‚é–“\n- **å®šæ™‚æ´»å‹•**ï¼š\n  - å–®ä¸€åœ°é»çš„æœƒè­°ã€ç°¡å ±\n  - æœ‰æ˜ç¢ºé–‹å§‹å’ŒçµæŸæ™‚é–“çš„çŸ­æ™‚é–“æ´»å‹•\n  - éæ—…éŠæ€§è³ªçš„å®šæ™‚èšæœƒ\n\nğŸ• **ç•¶å‰æ—¥æœŸæ™‚é–“åŸºæº–**ï¼š{{ DateTime.now().setZone('Asia/Taipei').toFormat('yyyyå¹´MMæœˆddæ—¥ (cccc)', { locale: 'zh-TW' }) }}ï¼ˆå°åŒ—æ™‚é–“ï¼‰\n  - ç•¶å‰å¹´ä»½ï¼š{{ DateTime.now().setZone('Asia/Taipei').toFormat('yyyy') }}\n  - ç•¶å‰æœˆä»½ï¼š{{ DateTime.now().setZone('Asia/Taipei').toFormat('MM') }}æœˆ\n\nâ° **æ™‚é–“æ ¼å¼è¦å‰‡**ï¼š\n- å…¨å¤©æ´»å‹•ï¼šstartDateTime å’Œ endDateTime éƒ½è¨­ç‚º \"YYYY-MM-DD\"ï¼ˆä¸åŒ…å«æ™‚é–“éƒ¨åˆ†ï¼‰ï¼ŒisAllDay: true\n- å®šæ™‚æ´»å‹•ï¼šä½¿ç”¨å®Œæ•´çš„ ISO 8601 æ ¼å¼ \"YYYY-MM-DDTHH:mm:ss+08:00\"ï¼ŒisAllDay: false\n- **å¹´ä»½æ¨æ–·è¦å‰‡ï¼ˆé‡è¦ï¼‰**ï¼š\n  - å¦‚æœè¨Šæ¯ä¸­æ˜ç¢ºæŒ‡å®šå¹´ä»½ï¼Œä½¿ç”¨è©²å¹´ä»½\n  - å¦‚æœåªæœ‰æœˆ/æ—¥æ²’æœ‰å¹´ä»½ï¼š\n    - 6æœˆã€7æœˆã€8æœˆã€9æœˆã€10æœˆã€11æœˆã€12æœˆ â†’ ä½¿ç”¨ **2025å¹´**\n    - 1æœˆã€2æœˆã€3æœˆã€4æœˆ â†’ ä½¿ç”¨ **2026å¹´**\n    - 5æœˆ â†’ æ ¹æ“šå…·é«”æ—¥æœŸåˆ¤æ–·ï¼Œé€šå¸¸ä½¿ç”¨ **2025å¹´**\n  - **ç¯„ä¾‹**ï¼šã€Œ6/14æ´»å‹•ã€â†’ 2025-06-14ï¼ˆä¸æ˜¯2024å¹´ï¼ï¼‰\n  - è‹¥å®Œå…¨ç„¡æ³•æ¨æ–·ï¼Œé è¨­ä½¿ç”¨ 2025 å¹´\n- æ™‚å€ï¼šAsia/Taipei (+08:00)\n\nâš ï¸ **é‡è¦æé†’**ï¼š\n- æ—…éŠã€ä¸€æ—¥éŠã€å¤šåœ°é»æ´»å‹•å³ä½¿æœ‰é›†åˆæ™‚é–“ï¼Œä¹Ÿæ‡‰è©²è¨­ç‚ºå…¨å¤©æ´»å‹•\n- å…¨å¤©æ´»å‹•çš„é–‹å§‹å’ŒçµæŸæ™‚é–“æ‡‰è©²ç›¸åŒï¼Œæ ¼å¼ç‚ºç´”æ—¥æœŸ\n\nğŸ“‹ **è©³ç´°æè¿°å…§å®¹å»ºæ§‹**ï¼š\nå¿…é ˆåŒ…å«ä»¥ä¸‹è³‡è¨Šï¼ˆå¦‚æœè¨Šæ¯ä¸­æœ‰æåŠï¼‰ï¼š\n1. **é›†åˆè³‡è¨Š**ï¼šé›†åˆæ™‚é–“ã€é›†åˆåœ°é»ã€åœè»Šè³‡è¨Š\n2. **å®Œæ•´è¡Œç¨‹**ï¼šæŒ‰æ™‚é–“é †åºåˆ—å‡ºæ‰€æœ‰æ´»å‹•å®‰æ’\n3. **è²»ç”¨æ˜ç´°**ï¼šå„é …è²»ç”¨ï¼ˆäº¤é€šã€é¤è²»ã€é–€ç¥¨ç­‰ï¼‰\n4. **åƒèˆ‡è€…è³‡è¨Š**ï¼šè»Šæ‰‹å®‰æ’ã€åƒåŠ äººå“¡\n5. **æ”œå¸¶ç‰©å“**ï¼šéœ€è¦æº–å‚™çš„ç‰©å“æˆ–è¡£ç‰©\n6. **æ³¨æ„äº‹é …**ï¼šå¤©æ°£ã€å–æ¶ˆæ¢ä»¶ã€å…¶ä»–é‡è¦æé†’\n7. **è¯çµ¡è³‡è¨Š**ï¼šç›¸é—œé€£çµã€åƒè€ƒè³‡æ–™ï¼ˆä¿æŒå®Œæ•´ç¶²å€ï¼‰\n\nğŸ‘¥ **åƒèˆ‡è€…æå–è¦å‰‡**ï¼š\n- **é‡è¦ï¼šattendees æ¬„ä½è«‹ä¿æŒç©ºé™£åˆ— []ï¼Œé¿å…ç™¼é€ Google Calendar é€šçŸ¥**\n- æ‰€æœ‰åƒèˆ‡è€…è³‡è¨Šï¼ˆåŒ…å«è»Šæ‰‹å’Œä¹˜å®¢ï¼‰éƒ½å¯«åœ¨ description ä¸­\n- é€™æ¨£å¯ä»¥é¿å… Google Calendar è‡ªå‹•ç™¼é€é‚€è«‹é€šçŸ¥\n\nğŸ’° **è²»ç”¨è³‡è¨Šæå–**ï¼š\n- äº¤é€šè²»ã€é¤è²»ã€é–€ç¥¨ã€å…¶ä»–é›œè²»\n- åœ¨ description ä¸­è©³ç´°èªªæ˜å„é …è²»ç”¨\n\nğŸ”— **é€£çµè™•ç†**ï¼š\n- ä¿æŒç¶²å€å®Œæ•´ï¼Œä¸è¦æˆªæ–·\n- å¦‚æœé€£çµå¤ªé•·ï¼Œç¢ºä¿åŒ…å«å®Œæ•´çš„å¯é»æ“Šç¶²å€\n\nğŸ¯ **ä¿¡å¿ƒåº¦è©•ä¼°**ï¼š\n- 0.9+ï¼šå®Œæ•´æ™‚é–“+åœ°é»+è©³ç´°è¡Œç¨‹+åƒèˆ‡è€…è³‡è¨Š\n- 0.7-0.9ï¼šæ˜ç¢ºæ™‚é–“å’Œåœ°é»ï¼Œéƒ¨åˆ†è©³ç´°è³‡è¨Š\n- 0.5-0.7ï¼šåŸºæœ¬æ™‚é–“æˆ–åœ°é»ï¼Œç¼ºå°‘è©³ç´°è³‡è¨Š\n- <0.5ï¼šç¼ºä¹é—œéµä¿¡æ¯\n\nè«‹æŒ‰ç…§ä»¥ä¸‹ JSON æ ¼å¼å›è¦†ï¼Œä¸è¦æ·»åŠ ä»»ä½•å…¶ä»–æ–‡å­—ï¼š\n{\n  \"hasEvent\": true,\n  \"events\": [\n    {\n      \"title\": \"ä¸»è¦æ´»å‹•æ¨™é¡Œ\",\n      \"description\": \"è©³ç´°çš„æ´»å‹•æè¿°ï¼ŒåŒ…å«å®Œæ•´è¡Œç¨‹å®‰æ’ã€é›†åˆè³‡è¨Šã€è²»ç”¨æ˜ç´°ã€åƒèˆ‡è€…è³‡è¨Šã€æ³¨æ„äº‹é …ç­‰\",\n      \"startDateTime\": \"2025-06-29\",\n      \"endDateTime\": \"2025-06-29\", \n      \"isAllDay\": true,\n      \"location\": \"ä¸»è¦é›†åˆåœ°é»æˆ–æœ€é‡è¦çš„åœ°é»\",\n      \"attendees\": [],\n      \"confidence\": 0.95\n    }\n  ],\n  \"reasoning\": \"åˆ†æåŸå› ï¼Œèªªæ˜å¦‚ä½•æ•´åˆå¤šå€‹æ´»å‹•ç‚ºå–®ä¸€äº‹ä»¶ï¼Œä»¥åŠä¿¡å¿ƒåº¦è©•ä¼°ä¾æ“š\"\n}\n\n**æ´»å‹•é¡å‹åˆ¤æ–·ç¯„ä¾‹**ï¼š\n- âœ… å…¨å¤©æ´»å‹•ï¼šã€Œä¸‰å³½ç€‘å¸ƒä¸€æ—¥éŠã€â†’ isAllDay: true, startDateTime: \"2025-06-29\"\n- âœ… å…¨å¤©æ´»å‹•ï¼šã€Œ6/14çƒ¤è‚‰æ´»å‹•ã€â†’ isAllDay: true, startDateTime: \"2025-06-14\"\n- âœ… å…¨å¤©æ´»å‹•ï¼šã€Œå·¥ä½œåŠã€â†’ isAllDay: true, startDateTime: \"2025-06-15\"  \n- âœ… å®šæ™‚æ´»å‹•ï¼šã€Œä¸‹åˆ2é»é–‹æœƒã€â†’ isAllDay: false, startDateTime: \"2025-06-01T14:00:00+08:00\"\n- âœ… å®šæ™‚æ´»å‹•ï¼šã€Œç°¡å ±1å°æ™‚ã€â†’ isAllDay: false, startDateTime: \"2025-06-01T14:00:00+08:00\"\n\n**å¹´ä»½åˆ¤æ–·é‡è¦æé†’**ï¼š\n- âŒ éŒ¯èª¤ï¼šã€Œ6/14æ´»å‹•ã€â†’ 2024-06-14\n- âœ… æ­£ç¢ºï¼šã€Œ6/14æ´»å‹•ã€â†’ 2025-06-14\n\n**æè¿°æ ¼å¼å»ºè­°**ï¼š\nä½¿ç”¨æ¸…æ™°çš„çµæ§‹åŒ–æ ¼å¼ï¼Œå°‡æ‰€æœ‰åƒèˆ‡è€…è³‡è¨Šå¯«åœ¨æè¿°ä¸­ï¼š\n```\né›†åˆæ™‚é–“ï¼š9:30 a.m.ï¼›é›†åˆåœ°é»ï¼šä¸‰å³½å€ç«¹å´™è·¯238è™Ÿï¼ˆç¦¾ç…¦ç†Šç©ºèŒ¶åœ’å¤–ç¢°é¢+åœè»Šï¼‰ã€‚\n\nè¡Œç¨‹å®‰æ’ï¼š\nâ€¢ ä¸Šåˆï¼šåƒè¨ªç¦¾ç…¦ç†Šç©ºèŒ¶åœ’\nâ€¢ ä¸­åˆï¼šä¸‰å³½æ’è§’133ç¾çƒ¤èƒ¡æ¤’é›ç”¨é¤  \nâ€¢ ä¸‹åˆï¼šé›²æ£®ç€‘å¸ƒå¥è¡Œ+ç©æ°´æ³¡è…³\nâ€¢ å‚æ™šï¼šä¸‰å³½è€è¡—è‡ªç”±æ´»å‹•\n\nè²»ç”¨ï¼šè»Šè³‡200å…ƒï¼›é¤è²»200-400å…ƒï¼›èŒ¶åœ’é–€ç¥¨280å…ƒï¼ˆå¯æŠµé¤é»100å…ƒï¼‰ã€‚\n\nè»Šæ‰‹å®‰æ’ï¼š\nâ€¢ @å°æ³‰ï¼šVivian, Conni, Lucia\nâ€¢ @bryanï¼šTing, Vera, å“²ç‘‹\nâ€¢ @éŸ‹æˆï¼šå°å¼µ, è¬å°ç¥, ç‹ç¾æƒ \nâ€¢ @Money Yuï¼šå…¶ä»–åƒèˆ‡è€…\n\næ³¨æ„äº‹é …ï¼šé‡é›¨å–æ¶ˆ/æ”¹æœŸï¼Œè«‹æ”œå¸¶æ›æ´—è¡£ç‰©ã€‚\n```\n\nç¾åœ¨è«‹åˆ†æä»¥ä¸‹ Slack è¨Šæ¯ï¼šã€Œ={{ $json.body.events[0].message.text }}ã€\n\nè«‹å°‡æ•´å€‹æ´»å‹•è¦–ç‚ºä¸€å€‹å®Œæ•´äº‹ä»¶ï¼ŒæŠŠæ‰€æœ‰ç´°ç¯€ã€è¡Œç¨‹å®‰æ’ã€åƒèˆ‡è€…è³‡è¨Šéƒ½æ•´ç†åœ¨ description ä¸­ï¼Œç›´æ¥å›è¦† JSON æ ¼å¼ï¼Œä¸è¦åŒ…å« ```json æ¨™è¨˜ï¼Œä¹Ÿä¸è¦åŒ…å«æ›è¡Œç¬¦è™Ÿã€‚"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        -208,
        304
      ],
      "id": "16f7e4ed-ded9-40af-b0c9-b335364f4fa4",
      "name": "Basic LLM Chain"
    },
    {
      "parameters": {
        "model": "gpt-4o",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatAzureOpenAi",
      "typeVersion": 1,
      "position": [
        -208,
        528
      ],
      "id": "54160076-28a8-46a6-b698-3b45995c1cfd",
      "name": "Azure OpenAI Chat Model",
      "credentials": {
        "azureOpenAiApi": {
          "id": "4ZzBTyKK5krEFQMw",
          "name": "Azure Open AI account"
        }
      }
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n    \"hasEvent\": true,\n    \"events\": [\n        {\n            \"title\": \"11/23 å¤ªå¹³å±±æ³¡æ¹¯ä¸€æ—¥éŠ\",\n            \"description\": \"é›†åˆæ™‚é–“ï¼š03:00ï¼›é›†åˆåœ°é»ï¼šå°åŒ—è»Šç«™æ±ä¸‰é–€ã€‚äº¤é€šï¼šåŒ…è»Šå¹³åˆ†ï¼ˆ8äººè»Šï¼‰ï¼Œå…§å»º5äººï¼Œæ­£åœ¨å¾µ3å¥³åŒæ­¥åŠ å…¥åœ˜ã€‚ï¼ˆç›®å‰åœ˜å…§1å¥³4ç”·ï¼‰è¡Œç¨‹å®‰æ’ï¼š03:00 å°åŒ—å‡ºç™¼05:00 æŠµé”å¤ªå¹³å±±åœ‹å®¶å…¬åœ’å”®ç¥¨å£05:40 åˆ°é”å¤ªå¹³å±±èŠåœè»Šå ´07:00 è³¼è²·ç¬¬ä¸€ç­ç¢°ç¢°è»Šç¥¨ï¼ˆåªèƒ½ç¾å ´è³¼ç¥¨ï¼‰ä¸»è¦æ´»å‹•ï¼š1. å¤ªå¹³å±±è§€æ™¯å¹³å°çœ‹æ—¥å‡ºé›²æµ·ï¼Œä¸¦åœ¨é™„è¿‘æ­¥é“æ¬£è³æ¥“è‘‰ã€‚2. èˆˆæ‡·èˆŠæ­¥é“ï¼ˆæªœæœ¨æ£®æ—æ„Ÿï¼‰åŠæªœæœ¨æ—æ­¥é“ã€‚3. å¤ªå¹³å±±å±±æ¯›æ«¸æ­¥é“éšæ¢¯æ—è§€è³æ¥“è‘‰ï¼ˆæ­¤æ­¥é“æ™‚é–“è¼ƒé•·ï¼Œé¿å…è¶…æ™‚æœªè¨ˆç•«æ·±å…¥ï¼‰ã€‚4. è¦‹æ™´æ‡·å¤æ­¥é“ï¼šæ­¥é“çŸ­ã€æ™¯é»çŸ¥åä½†å¿…åˆ°çš„é¢¨æ™¯é»ã€‚5. é³©ä¹‹æ¾¤ï¼šé«”é©—æ³¡æ¹¯ï¼Œä¸¦å¯å˜—è©¦åœ°ç†±æ°´ç…®ç‰ç±³ã€é›è›‹ç­‰ã€‚è©³ç´°åœ°é»èªªæ˜ï¼šâ€¢ å¤ªå¹³å±±èŠå€åŸŸï¼šå»ºè­°æ­ä¹˜ç¢°ç¢°è»Šåˆ°èŒ‚èˆˆï¼Œæ¢ç´¢èŒ‚èˆˆæ‡·èˆŠæ­¥é“ï¼ˆæªœæœ¨æ£®æ—æ„Ÿï¼‰ã€æªœæœ¨åŸå§‹æ—æ­¥é“ï¼ˆçŸ­ï¼‰ã€éµæ‰æ—æ­¥é“ã€‚æ­¤å¤–ï¼Œå¤ªå¹³å±±èŠæ—é‚Šéšæ¢¯çš„æ¥“è‘‰æœ€è¿‘éå¸¸ç´…è‘‰æ¼‚äº®ã€‚â€¢ ç¿ å³°æ¹–å€åŸŸï¼šå±±æ¯›æ«¸æ­¥é“ï¼ˆå»ºè­°æ­¥è¡Œæ™‚é–“ç´„3å°æ™‚ï¼‰åŠç¿ å³°æ¹–ç’°æ¹–æ­¥é“ï¼ˆæ­¥è¡Œç’°æ¹–åªéœ€10åˆ†é˜ï¼Œä¸»è¦ç”¨æ–¼çœ‹æ¹–ï¼‰ã€‚ç”±æ–¼éƒ¨åˆ†è·¯æ®µå°é–‰ï¼Œç›®å‰åªèƒ½é€šè¡Œåˆ°è§€æ¹–é»ã€‚â€¢ æ—¥å‡ºè§€è³é»æ¨è–¦ï¼šå¤ªå¹³å±±èŠè§€æ™¯å¹³å°ã€è¹¦è¹¦è»Šç«™èµ·é»æœˆå°ã€ç¿ å³°æ™¯è§€é“è·¯ï¼ˆ14å…¬é‡Œï¼‰è§€æ—¥å°ã€ç¿ å³°æ¹–ç’°å±±æ­¥é“ï¼ˆ0.8å…¬é‡Œï¼‰è§€æ¹–å¹³å°æˆ–3å…¬é‡Œè™•ï¼Œæœ›æ´‹å±±æ­¥é“çµ‚é»ï¼ˆ1.2å…¬é‡Œï¼‰è§€æ™¯å°ã€‚è²»ç”¨æ˜ç´°ï¼šâ€¢ åŒ…è»Šè²»ç”¨ï¼š8äººå¹³åˆ†â€¢ æ³¡æ¹¯è²»ç”¨ï¼šä¾å€‹äººé¸æ“‡ï¼ˆç¾å ´æ”¯ä»˜ï¼‰â€¢ éƒ¨åˆ†æ™¯é»ç‚ºå…è²»ï¼Œå¯è‡ªè²»é¸è³¼åœ°ç†±é£Ÿå“æˆ–é–€ç¥¨ï¼ˆè‹¥é©ç”¨ï¼‰æ³¨æ„äº‹é …ï¼šâ€¢ ç¢°ç¢°è»Šç¥¨åƒ…ç•¶å¤©ç¾å ´è³¼è²·ï¼Œè«‹æº–æ™‚åˆ°é”ã€‚â€¢ å› éƒ¨åˆ†æ­¥é“å°é–‰ï¼Œè«‹æ³¨æ„å…¬å‘Šä¸¦éµå®ˆè¦ç¯„ã€‚â€¢ è¡Œç¨‹æ¶‰åŠé«˜å±±æ­¥è¡Œï¼Œè«‹æ”œå¸¶èˆ’é©çš„æœè£èˆ‡æ­¥è¡Œé‹ã€‚â€¢ è‡ªå‚™æ¯›å·¾å’Œè¼•ä¾¿è¡£ç‰©ä»¥ä¾¿æ³¡æ¹¯ä½¿ç”¨ã€‚å¤©æ°£åŠå–æ¶ˆæ¢ä»¶ï¼šé‡é‡å¤§é™é›¨å¤©æ°£å¯èƒ½å–æ¶ˆæˆ–æ”¹æœŸï¼Œå°‡æå‰é€šçŸ¥åƒåŠ è€…ã€‚\",\n            \"startDateTime\": \"2025-11-23\",\n            \"endDateTime\": \"2025-11-23\",\n            \"isAllDay\": true,\n            \"location\": \"å°åŒ—è»Šç«™æ±ä¸‰é–€\",\n            \"attendees\": [],\n            \"confidence\": 0.95\n        }\n    ],\n    \"reasoning\": \"æœ¬æ´»å‹•ä»¥ã€11/23 å¤ªå¹³å±±æ³¡æ¹¯â›°ï¸ä¸€æ—¥éŠã€ç‚ºä¸»é¡Œï¼Œæ¨™æ˜äº†é›†åˆæ™‚é–“å’Œåœ°é»ï¼Œä¸¦è©³ç´°åˆ—å‡ºäº†å®Œæ•´çš„è¡Œç¨‹è¦åŠƒï¼ˆåŒ…å«æ—¥å‡ºã€æ­¥é“åŠæ³¡æ¹¯æ´»å‹•ï¼‰ã€‚æ´»å‹•åœ°é»ä¸»è¦åœ¨å°åŒ—è»Šç«™èˆ‡å¤ªå¹³å±±å€ã€‚ç”±æ–¼æ˜¯å¤šåœ°é»è¡Œç¨‹ä¸”è·¨æ•´å¤©ï¼Œåˆ¤æ–·ç‚ºå…¨å¤©æ´»å‹•ï¼›ä¿¡å¿ƒåº¦é«˜ä¸»è¦åŸºæ–¼è©³ç´°è¡Œç¨‹èˆ‡åƒè€ƒè³‡è¨Šçš„å®Œæ•´æ€§ã€‚\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        -80,
        528
      ],
      "id": "65feb9f3-465a-48ba-96a2-63ae14afd205",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "jsCode": "// ===============================================\n// Process AI Response - ä¿®æ­£ç‰ˆ JavaScript ä»£ç¢¼\n// ===============================================\n\nconsole.log('ğŸš€ é–‹å§‹è™•ç† AI å›æ‡‰...');\n\n// 1. æª¢æŸ¥åŸºæœ¬è¼¸å…¥\nconst inputData = $input.first();\nif (!inputData || !inputData.json) {\n  console.log('âŒ æ²’æœ‰è¼¸å…¥æ•¸æ“šï¼Œåœæ­¢åŸ·è¡Œ');\n  return [];\n}\n\nconsole.log('ğŸ“¥ è¼¸å…¥æ•¸æ“š:', JSON.stringify(inputData.json, null, 2));\n\n// 2. ğŸ”§ ä¿®æ­£ï¼šç›´æ¥å–å¾— AI è¼¸å‡ºç‰©ä»¶ï¼ˆä¸éœ€è¦è§£æ JSONï¼‰\nlet aiOutput;\n\n// æª¢æŸ¥ output æ˜¯å­—ä¸²é‚„æ˜¯ç‰©ä»¶\nif (typeof inputData.json.output === 'string') {\n  // å¦‚æœæ˜¯å­—ä¸²ï¼Œéœ€è¦è§£æ\n  try {\n    const cleanResponse = inputData.json.output.replace(/```json\\n?|```\\n?/g, '').trim();\n    aiOutput = JSON.parse(cleanResponse);\n    console.log('âœ… å¾å­—ä¸²è§£æ AI è¼¸å‡º');\n  } catch (error) {\n    console.log('âŒ JSON è§£æå¤±æ•—:', error.message);\n    return [{\n      json: {\n        status: 'error',\n        error: `AI å›æ‡‰è§£æå¤±æ•—: ${error.message}`,\n        rawResponse: inputData.json.output\n      }\n    }];\n  }\n} else if (typeof inputData.json.output === 'object') {\n  // å¦‚æœå·²ç¶“æ˜¯ç‰©ä»¶ï¼Œç›´æ¥ä½¿ç”¨\n  aiOutput = inputData.json.output;\n  console.log('âœ… AI è¼¸å‡ºå·²ç¶“æ˜¯ç‰©ä»¶æ ¼å¼');\n} else if (inputData.json.text) {\n  // å‚™ç”¨ï¼šæª¢æŸ¥ text æ¬„ä½\n  try {\n    const cleanResponse = inputData.json.text.replace(/```json\\n?|```\\n?/g, '').trim();\n    aiOutput = JSON.parse(cleanResponse);\n    console.log('âœ… å¾ text æ¬„ä½è§£æ AI è¼¸å‡º');\n  } catch (error) {\n    console.log('âŒ ç„¡æ³•å–å¾—æœ‰æ•ˆçš„ AI è¼¸å‡º');\n    return [];\n  }\n} else {\n  console.log('âŒ æ‰¾ä¸åˆ° AI è¼¸å‡ºæ•¸æ“š');\n  return [];\n}\n\nconsole.log('ğŸ¤– AI è¼¸å‡ºå…§å®¹:', JSON.stringify(aiOutput, null, 2));\n\n// 3. æª¢æŸ¥ Slack åŸå§‹æ•¸æ“šï¼ˆå¾ä¸Šæ¸¸ç¯€é»ï¼‰\nlet slackData = {};\ntry {\n  // ğŸ”§ æ”¹è‰¯ï¼šæ›´éˆæ´»åœ°å–å¾— Slack æ•¸æ“š\n  const allNodes = $input.all();\n  \n  // å…ˆå˜—è©¦å¾ç¬¬ä¸€å€‹ç¯€é»å–å¾—\n  if (allNodes.length > 0 && allNodes[0].json) {\n    slackData = allNodes[0].json;\n  }\n  \n  // å¦‚æœæ²’æœ‰ Slack ç‰¹å¾µï¼Œå˜—è©¦å…¶ä»–ç¯€é»\n  if (!slackData.user && !slackData.channel) {\n    for (const node of allNodes) {\n      if (node.json && (node.json.user || node.json.channel || node.json.text)) {\n        slackData = node.json;\n        break;\n      }\n    }\n  }\n  \n  // å¦‚æœé‚„æ˜¯æ‰¾ä¸åˆ°ï¼Œä½¿ç”¨é è¨­å€¼\n  if (!slackData.user && !slackData.channel) {\n    slackData = {\n      text: inputData.json.originalMessage || 'ç„¡æ³•å–å¾—åŸå§‹è¨Šæ¯',\n      user: 'unknown',\n      channel: 'unknown',\n      ts: Date.now().toString()\n    };\n  }\n  \n  console.log('ğŸ“± Slack æ•¸æ“š:', JSON.stringify(slackData, null, 2));\n} catch (error) {\n  console.log('âš ï¸ å–å¾— Slack æ•¸æ“šæ™‚ç™¼ç”ŸéŒ¯èª¤:', error.message);\n  slackData = {\n    text: 'ç„¡æ³•å–å¾—åŸå§‹è¨Šæ¯',\n    user: 'unknown',\n    channel: 'unknown',\n    ts: Date.now().toString()\n  };\n}\n\n// 4. æª¢æŸ¥ AI æ˜¯å¦æ‰¾åˆ°äº‹ä»¶\nif (!aiOutput.hasEvent || !aiOutput.events || aiOutput.events.length === 0) {\n  console.log('â„¹ï¸ AI æ²’æœ‰æ‰¾åˆ°äº‹ä»¶');\n  return [{\n    json: {\n      status: 'no_event',\n      message: 'æœªæ‰¾åˆ°æœ‰æ•ˆçš„æ—¥ç¨‹ä¿¡æ¯',\n      originalMessage: slackData.text,\n      slackUser: slackData.user,\n      slackChannel: slackData.channel,\n      slackTimestamp: slackData.ts,\n      reasoning: aiOutput.reasoning || 'ç„¡æ³•è­˜åˆ¥æ—¥ç¨‹ç›¸é—œå…§å®¹'\n    }\n  }];\n}\n\n// 5. è™•ç†æ‰¾åˆ°çš„äº‹ä»¶\nconsole.log(`ğŸ“… æ‰¾åˆ° ${aiOutput.events.length} å€‹äº‹ä»¶ï¼Œé–‹å§‹è™•ç†`);\n\ntry {\n  const processedEvents = aiOutput.events.map((event, index) => {\n    console.log(`ğŸ”„ è™•ç†äº‹ä»¶ ${index}:`, JSON.stringify(event, null, 2));\n    \n    // é©—è­‰äº‹ä»¶å¿…è¦æ¬„ä½\n    if (!event.title || !event.startDateTime) {\n      console.log(`âš ï¸ äº‹ä»¶ ${index} ç¼ºå°‘å¿…è¦æ¬„ä½ï¼Œè·³é`);\n      return null;\n    }\n\n    // è™•ç†æ™‚é–“\n    let startDateTime, endDateTime, isAllDay;\n    let calendarStartDateTime, calendarEndDateTime;\n    \n    try {\n      // æª¢æŸ¥æ˜¯å¦ç‚ºå…¨å¤©æ´»å‹•\n      isAllDay = event.isAllDay === true || \n                 (!event.startDateTime.includes('T') && !event.endDateTime?.includes('T'));\n      \n      if (isAllDay) {\n        // å…¨å¤©æ´»å‹•è™•ç†\n        console.log(`ğŸ“… äº‹ä»¶ ${index} æ˜¯å…¨å¤©æ´»å‹•`);\n        \n        startDateTime = event.startDateTime.includes('T') \n          ? event.startDateTime.split('T')[0] \n          : event.startDateTime;\n        endDateTime = event.endDateTime \n          ? (event.endDateTime.includes('T') ? event.endDateTime.split('T')[0] : event.endDateTime)\n          : startDateTime;\n        \n        // é©—è­‰æ—¥æœŸæ ¼å¼\n        if (!startDateTime.match(/^\\d{4}-\\d{2}-\\d{2}$/)) {\n          throw new Error('å…¨å¤©æ´»å‹•æ—¥æœŸæ ¼å¼éŒ¯èª¤');\n        }\n        \n        calendarStartDateTime = startDateTime;\n        calendarEndDateTime = endDateTime;\n        \n        console.log(`âœ… å…¨å¤©æ´»å‹•æ™‚é–“: ${startDateTime} åˆ° ${endDateTime}`);\n        \n      } else {\n        // éƒ¨åˆ†æ™‚é–“æ´»å‹•è™•ç†\n        console.log(`â° äº‹ä»¶ ${index} æ˜¯éƒ¨åˆ†æ™‚é–“æ´»å‹•`);\n        \n        const startDate = new Date(event.startDateTime);\n        const endDate = new Date(event.endDateTime || event.startDateTime);\n        \n        if (isNaN(startDate.getTime())) {\n          throw new Error('ç„¡æ•ˆçš„é–‹å§‹æ™‚é–“æ ¼å¼');\n        }\n        \n        // å¦‚æœçµæŸæ™‚é–“ç„¡æ•ˆæˆ–æ—©æ–¼é–‹å§‹æ™‚é–“ï¼Œé è¨­ç‚ºé–‹å§‹å¾Œ1å°æ™‚\n        if (isNaN(endDate.getTime()) || endDate <= startDate) {\n          endDate.setTime(startDate.getTime() + 60 * 60 * 1000);\n        }\n        \n        calendarStartDateTime = startDate.toISOString();\n        calendarEndDateTime = endDate.toISOString();\n        \n        console.log(`âœ… éƒ¨åˆ†æ™‚é–“æ´»å‹•: ${calendarStartDateTime} åˆ° ${calendarEndDateTime}`);\n      }\n      \n    } catch (dateError) {\n      console.log(`âš ï¸ äº‹ä»¶ ${index} æ™‚é–“è™•ç†å¤±æ•—:`, dateError.message);\n      \n      // é è¨­ç‚ºæ˜å¤©çš„å…¨å¤©æ´»å‹•\n      const tomorrow = new Date();\n      tomorrow.setDate(tomorrow.getDate() + 1);\n      const dateStr = tomorrow.toISOString().split('T')[0];\n      \n      startDateTime = dateStr;\n      endDateTime = dateStr;\n      calendarStartDateTime = dateStr;\n      calendarEndDateTime = dateStr;\n      isAllDay = true;\n      \n      console.log(`ğŸ”„ ä½¿ç”¨é è¨­æ™‚é–“: ${dateStr}`);\n    }\n    \n    // è™•ç†åƒèˆ‡è€…\n    const attendees = (event.attendees || []).filter(email => \n      email && typeof email === 'string' && email.includes('@')\n    );\n    \n    // è™•ç†ä¿¡å¿ƒåº¦\n    const confidence = parseFloat(event.confidence) || 0.5;\n    console.log(`ğŸ“Š äº‹ä»¶ ${index} ä¿¡å¿ƒåº¦: ${confidence} (${Math.round(confidence * 100)}%)`);\n    \n    // æ§‹å»ºæè¿°\n    const descriptionParts = [\n      event.description || '',\n      '',\n      'ğŸ“‹ ä¾†æºä¿¡æ¯ï¼š',\n      `â€¢ Slack è¨Šæ¯: ${slackData.text || 'ç„¡'}`,\n      `â€¢ ç™¼é€è€…: <@${slackData.user}>`,\n      `â€¢ é »é“: <#${slackData.channel}>`,\n      `â€¢ æ´»å‹•é¡å‹: ${isAllDay ? 'ğŸ“… å…¨å¤©æ´»å‹•' : 'â° éƒ¨åˆ†æ™‚é–“æ´»å‹•'}`,\n      `â€¢ AI åˆ†æä¿¡å¿ƒåº¦: ${Math.round(confidence * 100)}%`\n    ];\n    \n    if (aiOutput.reasoning) {\n      descriptionParts.push(`â€¢ åˆ†æèªªæ˜: ${aiOutput.reasoning}`);\n    }\n    \n    const description = descriptionParts.filter(line => line !== '').join('\\n');\n    \n    // æ±ºå®šè™•ç†ç‹€æ…‹\n    const eventStatus = confidence >= 0.7 ? 'high_confidence' : 'low_confidence';\n    console.log(`${confidence >= 0.7 ? 'âœ…' : 'âš ï¸'} äº‹ä»¶ ${index} ${eventStatus}`);\n    \n    // æ§‹å»ºè¼¸å‡º\n    const processedEvent = {\n      json: {\n        eventIndex: index,\n        title: event.title,\n        description: description,\n        \n        // æ™‚é–“ä¿¡æ¯\n        startDateTime: calendarStartDateTime,\n        endDateTime: calendarEndDateTime,\n        isAllDay: isAllDay,\n        \n        // åœ°é»å’Œåƒèˆ‡è€…\n        location: event.location || '',\n        attendees: attendees,\n        \n        // åˆ†æä¿¡æ¯\n        confidence: confidence,\n        confidenceDisplay: `${Math.round(confidence * 100)}%`,\n        reasoning: aiOutput.reasoning || '',\n        \n        // åŸå§‹ä¿¡æ¯\n        originalMessage: slackData.text || '',\n        slackUser: slackData.user,\n        slackChannel: slackData.channel,\n        slackTimestamp: slackData.ts,\n        \n        // è™•ç†ç‹€æ…‹\n        status: eventStatus\n      }\n    };\n    \n    console.log(`âœ… äº‹ä»¶ ${index} è™•ç†å®Œæˆ`);\n    return processedEvent;\n    \n  }).filter(event => event !== null);\n\n  // 6. æª¢æŸ¥è™•ç†çµæœ\n  if (processedEvents.length === 0) {\n    console.log('âŒ æ²’æœ‰æœ‰æ•ˆçš„äº‹ä»¶å¯è™•ç†');\n    return [{\n      json: {\n        status: 'error',\n        error: 'æ‰€æœ‰äº‹ä»¶éƒ½è™•ç†å¤±æ•—',\n        originalMessage: slackData.text,\n        slackUser: slackData.user,\n        slackChannel: slackData.channel,\n        slackTimestamp: slackData.ts\n      }\n    }];\n  }\n\n  console.log(`ğŸ‰ æˆåŠŸè™•ç† ${processedEvents.length} å€‹äº‹ä»¶`);\n  return processedEvents;\n  \n} catch (error) {\n  console.log('âŒ è™•ç†äº‹ä»¶æ™‚ç™¼ç”ŸéŒ¯èª¤:', error.message);\n  console.log('ğŸ” éŒ¯èª¤å †ç–Š:', error.stack);\n  \n  return [{\n    json: {\n      status: 'error',\n      error: `è™•ç†å¤±æ•—: ${error.message}`,\n      errorStack: error.stack,\n      originalMessage: slackData.text,\n      slackUser: slackData.user,\n      slackChannel: slackData.channel,\n      slackTimestamp: slackData.ts\n    }\n  }];\n}"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        144,
        304
      ],
      "id": "fdf4dab4-5de5-4205-aaf9-0592b7be28fd",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "6b023445-90f7-4895-ba31-87be54e21664",
              "leftValue": "={{ $json.confidence }}",
              "rightValue": 0.7,
              "operator": {
                "type": "number",
                "operation": "gt"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        368,
        304
      ],
      "id": "08341eaa-6d95-4508-adf9-2f777da40420",
      "name": "If"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.line.me/v2/bot/message/push",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n    \"to\": \"U81025e615f2b5734e31d2715303acb5a\",\n    \"messages\":[\n        { \n            \"type\":\"text\",  \n            \"text\":\"è¡Œäº‹æ›†å»ºç«‹å¤±æ•—ï¼Œä¿¡å¿ƒç¨‹åº¦éä½\" \n        }\n    ]\n} ",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        816,
        496
      ],
      "id": "70423981-f4d1-418b-a62d-c16e2027147d",
      "name": "HTTP Request: Send Line Msg1",
      "credentials": {
        "httpHeaderAuth": {
          "id": "Q9Kr3IDsWDjxH8dp",
          "name": "Line Header Auth account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "id-1",
              "name": "failMsg",
              "value": "=âš ï¸ *ç™¼ç¾å¯èƒ½çš„æ—¥ç¨‹ï¼Œä½†ä¿¡å¿ƒåº¦è¼ƒä½*\n\nğŸ“ *{{ $json.rawResponse.events[0].title }}*\nğŸ• æ™‚é–“: {{ $json.rawResponse.events[0].startDateTime }}\nğŸ“ åœ°é»: {{$json.location || 'æœªæŒ‡å®š'}}\nğŸ“Š AI ä¿¡å¿ƒåº¦: {{ $json.rawResponse.events[0].confidence }} ({{$json.confidence >= 0.7 ? 'é«˜' : 'ä½'}}ä¿¡å¿ƒåº¦)\n\nğŸ’­ *AI åˆ†æ*: _{{ $json.rawResponse.reasoning }}_\n\nğŸ’¡ *å»ºè­°*: å¦‚éœ€å‰µå»ºæ—¥æ›†äº‹ä»¶ï¼Œè«‹ç™¼é€æ›´è©³ç´°çš„è¨Šæ¯ï¼ˆåŒ…å«ç¢ºåˆ‡æ™‚é–“ã€åœ°é»ç­‰è³‡è¨Šï¼‰\n\n_ğŸ¤– æ­¤ç‚º AI åŠ©æ‰‹ä½ä¿¡å¿ƒåº¦æé†’ï¼Œä¸æœƒè‡ªå‹•å‰µå»ºäº‹ä»¶_",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "24127335-2362-4f75-a751-be05b7e32ebd",
      "name": "Set Variables",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        592,
        496
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "ab31d2f3-999b-4ae1-8db0-88bc7bee7164",
              "leftValue": "={{ $json.isAllDay }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        592,
        208
      ],
      "id": "10f1688d-4b90-4ede-bd59-fc0f3ef0e529",
      "name": "If All Day Event"
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "abc12207@gmail.com",
          "mode": "list",
          "cachedResultName": "abc12207@gmail.com"
        },
        "start": "={{ $json.startDateTime }}",
        "end": "={{ $json.endDateTime }}",
        "additionalFields": {
          "allday": "yes",
          "description": "={{ $json.description }}",
          "location": "={{ $json.location }}",
          "summary": "={{ $json.title }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendar",
      "typeVersion": 1.3,
      "position": [
        816,
        112
      ],
      "id": "db62a5f3-66db-4592-9a3f-826d8fcf3ced",
      "name": "Create an event",
      "alwaysOutputData": false,
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "DdbVuHDGF2TzRIPI",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "abc12207@gmail.com",
          "mode": "list",
          "cachedResultName": "abc12207@gmail.com"
        },
        "start": "={{ $json.startDateTime }}",
        "end": "={{ $json.endDateTime }}",
        "additionalFields": {
          "allday": "no",
          "description": "={{ $json.description }}",
          "location": "={{ $json.location }}",
          "summary": "={{ $json.title }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendar",
      "typeVersion": 1.3,
      "position": [
        816,
        304
      ],
      "id": "8156f471-f18a-4cb0-8166-872d0bef5670",
      "name": "Create an event1",
      "alwaysOutputData": false,
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "DdbVuHDGF2TzRIPI",
          "name": "Google Calendar account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Azure OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "If All Day Event",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Set Variables",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request: Send Line Msg1": {
      "main": [
        []
      ]
    },
    "Set Variables": {
      "main": [
        [
          {
            "node": "HTTP Request: Send Line Msg1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If All Day Event": {
      "main": [
        [
          {
            "node": "Create an event",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Create an event1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create an event": {
      "main": [
        [
          {
            "node": "HTTP Request: Send Line Msg",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create an event1": {
      "main": [
        [
          {
            "node": "HTTP Request: Send Line Msg",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "e21d8d6c-c83d-4d9c-87a6-284f7b5ab8dd",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "cbf1298add127fa0204a2766dba48f09cc5f0b2f67e3a4a206fcf84365083c37"
  },
  "id": "uFwNKjs68ncMw7qh",
  "tags": []
}